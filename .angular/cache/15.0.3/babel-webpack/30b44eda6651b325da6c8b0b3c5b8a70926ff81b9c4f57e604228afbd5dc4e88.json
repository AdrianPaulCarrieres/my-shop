{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction ProductComponent_p_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.product.description, \" \");\n  }\n}\nexport class ProductComponent {\n  constructor() {\n    this.hoveredEvent = new EventEmitter();\n  }\n  ngOnInit() {}\n  hovered(value) {\n    this.hoveredEvent.emit(value);\n  }\n  // add product to cart as an object of productId -> quantity\n  // add to cart\n  addToCart(product) {\n    let cart = [];\n    if (localStorage.getItem('cart') !== null) {\n      cart = JSON.parse(localStorage.getItem('cart') || `{ ${product.id} : ${0} }`);\n      let quantity = cart[product.id];\n      quantity += 1;\n    } else {}\n  }\n}\nProductComponent.ɵfac = function ProductComponent_Factory(t) {\n  return new (t || ProductComponent)();\n};\nProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductComponent,\n  selectors: [[\"app-product\"]],\n  inputs: {\n    product: \"product\"\n  },\n  outputs: {\n    hoveredEvent: \"hoveredEvent\"\n  },\n  decls: 10,\n  vars: 5,\n  consts: [[3, \"mouseenter\"], [3, \"title\"], [3, \"src\", \"alt\"], [4, \"ngIf\"], [3, \"click\"]],\n  template: function ProductComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵlistener(\"mouseenter\", function ProductComponent_Template_div_mouseenter_0_listener() {\n        return ctx.hovered(ctx.product.name);\n      });\n      i0.ɵɵelementStart(1, \"h3\")(2, \"a\", 1);\n      i0.ɵɵtext(3);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(4, \"img\", 2);\n      i0.ɵɵtemplate(5, ProductComponent_p_5_Template, 2, 1, \"p\", 3);\n      i0.ɵɵelementStart(6, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function ProductComponent_Template_button_click_6_listener() {\n        return ctx.addToCart(ctx.product);\n      });\n      i0.ɵɵtext(7, \"Add to cart\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function ProductComponent_Template_button_click_8_listener() {\n        return ctx.removeFromCart(ctx.product);\n      });\n      i0.ɵɵtext(9, \"Remove from cart\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"title\", ctx.product.name + \" details\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate1(\" \", ctx.product.name, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵpropertyInterpolate(\"src\", ctx.product.image, i0.ɵɵsanitizeUrl);\n      i0.ɵɵpropertyInterpolate(\"alt\", ctx.product.name);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.product.description);\n    }\n  },\n  dependencies: [i1.NgIf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAAA,SAAmCA,YAAY,QAAQ,eAAe;;;;;ICSlEC,yBAA+B;IAC3BA,YACJ;IAAAA,iBAAI;;;;IADAA,eACJ;IADIA,2DACJ;;;ADHJ,OAAM,MAAOC,gBAAgB;EAO3BC;IAFU,iBAAY,GAAG,IAAIH,YAAY,EAAU;EAEnC;EAEhBI,QAAQ,IACR;EAEAC,OAAO,CAACC,KAAa;IACnB,IAAI,CAACC,YAAY,CAACC,IAAI,CAACF,KAAK,CAAC;EAC/B;EAEA;EAEA;EACAG,SAAS,CAACC,OAAgB;IACxB,IAAIC,IAAI,GAAG,EAAE;IACb,IAAIC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,KAAK,IAAI,EAAE;MAEzCF,IAAI,GAAGG,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,KAAKH,OAAO,CAACM,EAAE,MAAM,CAAC,IAAI,CAAC;MAC7E,IAAIC,QAAQ,GAAGN,IAAI,CAACD,OAAO,CAACM,EAAE,CAAC;MAC/BC,QAAQ,IAAI,CAAC;KACd,MAAM;EAET;;AA5BWf,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA,gBAAgB;EAAAgB;EAAAC;IAAAT;EAAA;EAAAU;IAAAb;EAAA;EAAAc;EAAAC;EAAAC;EAAAC;IAAA;MCR7BvB,8BAA0C;MAArCA;QAAA,OAAcwB,6BAAqB;MAAA,EAAC;MACrCxB,0BAAI;MAEIA,YACJ;MAAAA,iBAAI;MAGRA,yBAAsD;MAEtDA,6DAEI;MAEJA,iCAAqC;MAA7BA;QAAA,OAASwB,0BAAkB;MAAA,EAAC;MAACxB,2BAAW;MAAAA,iBAAS;MAEzDA,iCAA0C;MAAlCA;QAAA,OAASwB,+BAAuB;MAAA,EAAC;MAACxB,gCAAgB;MAAAA,iBAAS;;;MAb5DA,eAAmC;MAAnCA,qDAAmC;MAClCA,eACJ;MADIA,iDACJ;MAGCA,eAAuB;MAAvBA,oEAAuB;MAACA,iDAAsB;MAE/CA,eAAyB;MAAzBA,8CAAyB","names":["EventEmitter","i0","ProductComponent","constructor","ngOnInit","hovered","value","hoveredEvent","emit","addToCart","product","cart","localStorage","getItem","JSON","parse","id","quantity","selectors","inputs","outputs","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/adrian-paulcarrieres/Documents/Efrei/Angular/my-shop/src/app/product/product.component.ts","/Users/adrian-paulcarrieres/Documents/Efrei/Angular/my-shop/src/app/product/product.component.html"],"sourcesContent":["import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { Product } from '../models/product';\n\n@Component({\n  selector: 'app-product',\n  templateUrl: './product.component.html',\n  styleUrls: ['./product.component.css']\n})\nexport class ProductComponent {\n\n  @Input()\n  product!: Product;\n\n  @Output() hoveredEvent = new EventEmitter<string>();\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  hovered(value: string) {\n    this.hoveredEvent.emit(value);\n  }\n\n  // add product to cart as an object of productId -> quantity\n\n  // add to cart\n  addToCart(product: Product) {\n    let cart = [];\n    if (localStorage.getItem('cart') !== null) {\n\n      cart = JSON.parse(localStorage.getItem('cart') || `{ ${product.id} : ${0} }`);\n      let quantity = cart[product.id]\n      quantity += 1;\n    } else {\n    }\n  }\n}\n","<div (mouseenter)=\"hovered(product.name)\">\n    <h3>\n        <a [title]=\"product.name + ' details'\">\n            {{ product.name }}\n        </a>\n    </h3>\n\n    <img src=\"{{product.image}}\" alt=\"{{product.name}}\" />\n\n    <p *ngIf=\"product.description\">\n        {{ product.description }}\n    </p>\n\n    <button (click)=\"addToCart(product)\">Add to cart</button>\n\n    <button (click)=\"removeFromCart(product)\">Remove from cart</button>\n</div>\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}