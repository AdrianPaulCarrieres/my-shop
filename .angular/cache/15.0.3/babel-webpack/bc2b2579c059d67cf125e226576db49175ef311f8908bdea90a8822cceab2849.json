{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction CartComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 0)(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.quantity);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.price);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.price * item_r1.quantity);\n  }\n}\nexport class CartComponent {\n  constructor() {\n    // when components load, get cart from local storage\n    this.cart = JSON.parse(localStorage.getItem('cart') || '[]');\n    //localStorage.setItem('cart', '[]');\n    console.table(this.cart);\n  }\n  ngOnInit() {}\n  addToCart(product) {\n    let cart = [];\n    cart = JSON.parse(localStorage.getItem('cart') || `[]`);\n    console.log(cart);\n    let item = cart.find(item => item.id === product.id);\n    if (item) {\n      item.name = product.name;\n      item.quantity += 1;\n      item.price = product.price;\n    } else {\n      cart.push({\n        id: product.id,\n        name: product.name,\n        quantity: 1,\n        price: product.price\n      });\n    }\n    console.table(cart);\n    localStorage.setItem('cart', JSON.stringify(cart));\n  }\n  removeFromCart(product) {\n    let cart = [];\n    cart = JSON.parse(localStorage.getItem('cart') || `[]`);\n    let item = cart.find(item => item.id === product.id);\n    if (item) {\n      item.quantity -= 1;\n      if (item.quantity <= 0) {\n        cart = cart.filter(item => item.id !== product.id);\n      }\n    }\n    console.table(cart);\n    localStorage.setItem('cart', JSON.stringify(cart));\n  }\n}\nCartComponent.ɵfac = function CartComponent_Factory(t) {\n  return new (t || CartComponent)();\n};\nCartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CartComponent,\n  selectors: [[\"app-cart\"]],\n  decls: 15,\n  vars: 1,\n  consts: [[1, \"cart-item\"], [\"class\", \"cart-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"cart-row\"]],\n  template: function CartComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"b\");\n      i0.ɵɵtext(2, \"Item\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"b\");\n      i0.ɵɵtext(4, \"Quantity\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"b\");\n      i0.ɵɵtext(6, \"Unit Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"b\");\n      i0.ɵɵtext(8, \"Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"b\");\n      i0.ɵɵtext(10, \"Action\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(11, CartComponent_div_11_Template, 9, 4, \"div\", 1);\n      i0.ɵɵelementStart(12, \"div\", 2)(13, \"span\");\n      i0.ɵɵtext(14, \"Total\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"ngForOf\", ctx.cart);\n    }\n  },\n  dependencies: [i1.NgForOf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","CartComponent","constructor","JSON","parse","localStorage","getItem","console","table","cart","ngOnInit","addToCart","product","log","item","find","id","name","quantity","price","push","setItem","stringify","removeFromCart","filter","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/adrian-paulcarrieres/Documents/Efrei/Angular/my-shop/src/app/cart/cart.component.html","/Users/adrian-paulcarrieres/Documents/Efrei/Angular/my-shop/src/app/cart/cart.component.ts"],"sourcesContent":["<div class=\"cart-item\">\n    <b>Item</b>\n    <b>Quantity</b>\n    <b>Unit Price</b>\n    <b>Price</b>\n    <b>Action</b>\n</div>\n<div class=\"cart-item\" *ngFor=\"let item of cart\">\n    <span>{{item.name}}</span>\n    <span>{{item.quantity}}</span>\n    <span>{{item.price}}</span>\n    <span>{{item.price * item.quantity}}</span>\n</div>\n<div class=\"cart-row\">\n    <span>Total</span>\n</div>\n\n","import { Component } from '@angular/core';\n\nimport { Product } from '../models/product';\n\n@Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.css']\n})\nexport class CartComponent {\n  // when components load, get cart from local storage\n  cart = JSON.parse(localStorage.getItem('cart') || '[]');\n \n\n  constructor() {\n    //localStorage.setItem('cart', '[]');\n    console.table(this.cart);\n   }\n\n  ngOnInit(): void { }\n\n  addToCart(product: Product) {\n    let cart = [];\n\n    cart = JSON.parse(localStorage.getItem('cart') || `[]`);\n\n    console.log(cart);\n\n    let item = cart.find((item: any) => item.id === product.id);\n    if (item) {\n      item.name = product.name;\n      item.quantity += 1;\n      item.price = product.price;\n    } else {\n      cart.push({\n        id: product.id,\n        name: product.name,\n        quantity: 1,\n        price: product.price,\n      });\n    }\n\n    console.table(cart);\n\n    localStorage.setItem('cart', JSON.stringify(cart));\n  }\n\n  removeFromCart(product: Product) {\n    let cart = [];\n    cart = JSON.parse(localStorage.getItem('cart') || `[]`);\n\n    let item = cart.find((item: any) => item.id === product.id);\n    if (item) {\n      item.quantity -= 1;\n      if (item.quantity <= 0) {\n        cart = cart.filter((item: any) => item.id !== product.id);\n      }\n    }\n\n    console.table(cart);\n\n    localStorage.setItem('cart', JSON.stringify(cart));\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}