{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction ProductComponent_p_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.product.description, \" \");\n  }\n}\nconst _c0 = function (a0, a1) {\n  return {\n    \"buttonNotHovered\": a0,\n    \"buttonHovered\": a1\n  };\n};\nexport class ProductComponent {\n  constructor() {\n    this.hovered = false;\n    this.hoveringEvent = new EventEmitter();\n  }\n  ngOnInit() {}\n  hovering(name, flag) {\n    let event = JSON.stringify({\n      name: name,\n      flag: flag\n    });\n    console.table(name);\n    this.hoveringEvent.emit(event);\n    if (flag) {\n      this.hovered = true;\n    } else {\n      this.hovered = false;\n    }\n  }\n  addToCart(product) {\n    let cart = [];\n    cart = JSON.parse(localStorage.getItem('cart') || `[]`);\n    console.log(cart);\n    let item = cart.find(item => item.id === product.id);\n    if (item) {\n      item.name = product.name;\n      item.quantity += 1;\n      item.price = product.price;\n    } else {\n      cart.push({\n        id: product.id,\n        name: product.name,\n        quantity: 1,\n        price: product.price\n      });\n    }\n    console.table(cart);\n    localStorage.setItem('cart', JSON.stringify(cart));\n  }\n  removeFromCart(product) {\n    let cart = [];\n    cart = JSON.parse(localStorage.getItem('cart') || `[]`);\n    let item = cart.find(item => item.id === product.id);\n    if (item) {\n      item.quantity -= 1;\n      if (item.quantity <= 0) {\n        cart = cart.filter(item => item.id !== product.id);\n      }\n    }\n    console.table(cart);\n    localStorage.setItem('cart', JSON.stringify(cart));\n  }\n}\nProductComponent.ɵfac = function ProductComponent_Factory(t) {\n  return new (t || ProductComponent)();\n};\nProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductComponent,\n  selectors: [[\"app-product\"]],\n  inputs: {\n    product: \"product\"\n  },\n  outputs: {\n    hoveringEvent: \"hoveringEvent\"\n  },\n  decls: 10,\n  vars: 13,\n  consts: [[3, \"mouseenter\", \"mouseleave\"], [3, \"title\"], [3, \"src\", \"alt\"], [4, \"ngIf\"], [3, \"ngClass\", \"click\"]],\n  template: function ProductComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵlistener(\"mouseenter\", function ProductComponent_Template_div_mouseenter_0_listener() {\n        return ctx.hovering(ctx.product.name, true);\n      })(\"mouseleave\", function ProductComponent_Template_div_mouseleave_0_listener() {\n        return ctx.hovering(ctx.product.name, false);\n      });\n      i0.ɵɵelementStart(1, \"h3\")(2, \"a\", 1);\n      i0.ɵɵtext(3);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(4, \"img\", 2);\n      i0.ɵɵtemplate(5, ProductComponent_p_5_Template, 2, 1, \"p\", 3);\n      i0.ɵɵelementStart(6, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function ProductComponent_Template_button_click_6_listener() {\n        return ctx.addToCart(ctx.product);\n      });\n      i0.ɵɵtext(7, \"Add to cart\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function ProductComponent_Template_button_click_8_listener() {\n        return ctx.removeFromCart(ctx.product);\n      });\n      i0.ɵɵtext(9, \"Remove from cart\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"title\", ctx.product.name + \" details\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate1(\" \", ctx.product.name, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵpropertyInterpolate(\"src\", ctx.product.image, i0.ɵɵsanitizeUrl);\n      i0.ɵɵpropertyInterpolate(\"alt\", ctx.product.name);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.product.description);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(7, _c0, ctx.hovered === false, ctx.hovered === true));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(10, _c0, ctx.hovered === false, ctx.hovered === true));\n    }\n  },\n  dependencies: [i1.NgClass, i1.NgIf],\n  styles: [\".buttonNotHovered[_ngcontent-%COMP%]{\\n    padding-left: 20%;\\n    padding-right: 20%;\\n    background-color: blue;\\n    color: white;\\n}\\n.buttonHovered[_ngcontent-%COMP%]{\\n    padding-left: 20%;\\n    padding-right: 20%;\\n    background-color: white;\\n    color: blue;\\n}\\n/*# sourceURL=webpack://./src/app/product/product.component.css */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvZHVjdC9wcm9kdWN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxpQkFBaUI7SUFDakIsa0JBQWtCO0lBQ2xCLHNCQUFzQjtJQUN0QixZQUFZO0FBQ2hCO0FBQ0E7SUFDSSxpQkFBaUI7SUFDakIsa0JBQWtCO0lBQ2xCLHVCQUF1QjtJQUN2QixXQUFXO0FBQ2YiLCJzb3VyY2VzQ29udGVudCI6WyIuYnV0dG9uTm90SG92ZXJlZHtcbiAgICBwYWRkaW5nLWxlZnQ6IDIwJTtcbiAgICBwYWRkaW5nLXJpZ2h0OiAyMCU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmx1ZTtcbiAgICBjb2xvcjogd2hpdGU7XG59XG4uYnV0dG9uSG92ZXJlZHtcbiAgICBwYWRkaW5nLWxlZnQ6IDIwJTtcbiAgICBwYWRkaW5nLXJpZ2h0OiAyMCU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgY29sb3I6IGJsdWU7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["EventEmitter","i0","ProductComponent","constructor","ngOnInit","hovering","name","flag","event","JSON","stringify","console","table","hoveringEvent","emit","hovered","addToCart","product","cart","parse","localStorage","getItem","log","item","find","id","quantity","price","push","setItem","removeFromCart","filter","selectors","inputs","outputs","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/adrian-paulcarrieres/Documents/Efrei/Angular/my-shop/src/app/product/product.component.ts","/Users/adrian-paulcarrieres/Documents/Efrei/Angular/my-shop/src/app/product/product.component.html"],"sourcesContent":["import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { Product } from '../models/product';\n\n@Component({\n  selector: 'app-product',\n  templateUrl: './product.component.html',\n  styleUrls: ['./product.component.css']\n})\nexport class ProductComponent {\n\n  @Input()\n  product!: Product;\n\n  hovered = false;\n\n  @Output() hoveringEvent = new EventEmitter<string>();\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  hovering(name: string, flag: boolean) {\n    let event = JSON.stringify({name: name, flag: flag});\n    console.table(name);\n    this.hoveringEvent.emit(event);\n\n    if(flag) {\n      this.hovered = true;\n    } else {\n      this.hovered = false;\n    }\n  }\n\n  addToCart(product: Product) {\n    let cart = [];\n\n    cart = JSON.parse(localStorage.getItem('cart') || `[]`);\n\n    console.log(cart);\n\n    let item = cart.find((item: any) => item.id === product.id);\n    if (item) {\n      item.name = product.name;\n      item.quantity += 1;\n      item.price = product.price;\n    } else {\n      cart.push({\n        id: product.id,\n        name: product.name,\n        quantity: 1,\n        price: product.price,\n      });\n    }\n\n    console.table(cart);\n\n    localStorage.setItem('cart', JSON.stringify(cart));\n  }\n\n  removeFromCart(product: Product) {\n    let cart = [];\n    cart = JSON.parse(localStorage.getItem('cart') || `[]`);\n\n    let item = cart.find((item: any) => item.id === product.id);\n    if (item) {\n      item.quantity -= 1;\n      if (item.quantity <= 0) {\n        cart = cart.filter((item: any) => item.id !== product.id);\n      }\n    }\n\n    console.table(cart);\n\n    localStorage.setItem('cart', JSON.stringify(cart));\n  }\n}\n","<div (mouseenter)=\"hovering(product.name, true)\" (mouseleave)=\"hovering(product.name, false)\">\n    <h3>\n        <a [title]=\"product.name + ' details'\">\n            {{ product.name }}\n        </a>\n    </h3>\n\n    <img src=\"{{product.image}}\" alt=\"{{product.name}}\" />\n\n    <p *ngIf=\"product.description\">\n        {{ product.description }}\n    </p>\n\n    <button [ngClass]=\"{'buttonNotHovered': hovered === false, 'buttonHovered' : hovered === true }\"\n        (click)=\"addToCart(product)\">Add to cart</button>\n\n    <button [ngClass]=\"{'buttonNotHovered': hovered === false, 'buttonHovered' : hovered === true }\" (click)=\"removeFromCart(product)\">Remove from cart</button>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}